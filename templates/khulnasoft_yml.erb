---
# Khulnasoft app - App configuration file
# Copyright (C) 2015, Khulnasoft Inc.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# Find more information about this on the LICENSE file.
#
# ======================== Khulnasoft dashboard configuration file ========================
#
# Please check the documentation for more information about configuration options:
# https://documentation.khulnasoft.com/4.8/user-manual/khulnasoft-dashboard/config-file.html
#
# Also, you can check our repository:
# https://github.com/khulnasoft/khulnasoft-kibana-app
#
# ---------------------------- Unauthorized roles ------------------------------
#
# Disable Khulnasoft for the Elasticsearch / OpenSearch roles defined here.
# disabled_roles:
#   - khulnasoft_disabled
#
# ------------------------------- Index patterns -------------------------------
#
# Default index pattern to use on the app. If there's no valid index pattern, the
# app will automatically create one with the name indicated in this option.
# pattern: khulnasoft-alerts-*
#
# ----------------------------------- Checks -----------------------------------
#
# Define which checks will be executed by the App's HealthCheck.
# Allowed values are: true, false
#
# Enable or disable the index pattern health check when opening the app.
# checks.pattern: true
#
# Enable or disable the template health check when opening the app.
# checks.template: true
#
# Enable or disable the API health check when opening the app.
# checks.api: true
#
# Enable or disable the setup health check when opening the app.
# checks.setup: true
#
# Enable or disable the known fields health check when opening the app.
# checks.fields: true
#
# Change the default value of the Khulnasoft dashboard metaField configuration
# checks.metaFields: true
#
# Change the default value of the Khulnasoft dashboard timeFilter configuration
# checks.timeFilter: true
#
# Change the default value of the Khulnasoft dashboard max buckets configuration
# checks.maxBuckets: true
#
# --------------------------------- Extensions ---------------------------------
#
# Define the initial state of the extensions (enabled / disabled) for recently
# added hosts. The extensions can be enabled or disabled anytime using the UI.
# Allowed values are: true, false
#
# Enable or disable the PCI DSS tab on Overview and Agents.
# extensions.pci: true
#
# Enable or disable the GDPR tab on Overview and Agents.
# extensions.gdpr: true
#
# Enable or disable the HIPAA tab on Overview and Agents.
# extensions.hipaa: true
#
# Enable or disable the NIST 800-53 tab on Overview and Agents.
# extensions.nist: true
#
# Enable or disable the TSC tab on Overview and Agents.
# extensions.tsc: true
#
# Enable or disable the Audit tab on Overview and Agents.
# extensions.audit: true
#
# Enable or disable the Open SCAP tab on Overview and Agents.
# extensions.oscap: false
#
# Enable or disable the CIS-CAT tab on Overview and Agents.
# extensions.ciscat: false
#
# Enable or disable the Amazon (AWS) tab on Overview.
# extensions.aws: false
#
# Enable or disable the Google Cloud Platform tab on Overview.
# extensions.gcp: false
#
# Enable or disable the VirusTotal tab on Overview and Agents.
# extensions.virustotal: false
#
# Enable or disable the Osquery tab on Overview and Agents.
# extensions.osquery: false
#
# Enable or disable the Docker listener tab on Overview and Agents.
# extensions.docker: false
#
# ------------------------------- Timeout --------------------------------------
#
# Maximum time, in milliseconds, the app will wait for an API response when making
# requests to it. It will be ignored if the value is set under 1500 milliseconds.
# timeout: 20000
#
# --------------------------- Index pattern selector ---------------------------
#
# Define if the user is allowed to change the selected index pattern directly from
# the top menu bar.
# ip.selector: true
#
# Disable certain index pattern names from being available in index pattern
# selector from the Khulnasoft app.
# ip.ignore:
#
# ------------------------------ Monitoring ------------------------------------
#
# Enable or disable the khulnasoft-monitoring index creation and/or visualization.
# khulnasoft.monitoring.enabled: true
#
# Frequency, in seconds, of API requests to get the state of the agents and create
# a new document in the khulnasoft-monitoring index with this data.
# khulnasoft.monitoring.frequency: 900
#
# Define the number of shards to use for the khulnasoft-monitoring-* indices.
# khulnasoft.monitoring.shards: 1
#
# Define the number of replicas to use for the khulnasoft-monitoring-* indices.
# khulnasoft.monitoring.replicas: 0
#
# Define the interval in which a new khulnasoft-monitoring index will be created.
# Allowed values are: h (hourly), d (daily), w (weekly), m (monthly)
# khulnasoft.monitoring.creation: w
#
# Default index pattern to use for Khulnasoft monitoring.
# khulnasoft.monitoring.pattern: khulnasoft-monitoring-*
#
# --------------------------------- Sample data --------------------------------
#
# Define the index name prefix of sample alerts. It must match the template used
# by the index pattern to avoid unknown fields in dashboards.
# alerts.sample.prefix: khulnasoft-alerts-4.x-
#
# ------------------------------ Background tasks ------------------------------
#
# Define the index prefix of predefined jobs.
# cron.prefix: khulnasoft
#
# ------------------------------ Khulnasoft Statistics ------------------------------
#
# Enable or disable the statistics tasks.
# cron.statistics.status: true
#
# Enter the ID of the hosts you want to save data from, leave this empty to run
# the task on every host.
# cron.statistics.apis:
#
# Define the frequency of task execution using cron schedule expressions.
# cron.statistics.interval: 0 */5 * * * *
#
# Define the name of the index in which the documents will be saved.
# cron.statistics.index.name: statistics
#
# Define the interval in which a new index will be created.
# cron.statistics.index.creation: w
#
# Define the number of shards to use for the statistics indices.
# cron.statistics.shards: 1
#
# Define the number of replicas to use for the statistics indices.
# cron.statistics.replicas: 0
#
# ------------------------------ Logo customization ----------------------------
#
# Set the name of the app logo stored at /plugins/khulnasoft/public/assets/
# customization.logo.app:
#
# Set the name of the sidebar logo stored at /plugins/khulnasoft/public/assets/
# customization.logo.sidebar:
#
# Set the name of the health-check logo stored at /plugins/khulnasoft/public/assets/
# customization.logo.healthcheck:
#
# Set the name of the reports logo (.png) stored at /plugins/khulnasoft/public/assets/
# customization.logo.reports:
#
# ---------------------------- Hide manager alerts -----------------------------
#
# Hide the alerts of the manager in every dashboard.
# hideManagerAlerts: false
#
# ------------------------------- App logging level ----------------------------
#
# Logging level of the App.
# Allowed values are: info, debug
# logs.level: info
#
# ------------------------------- Agent enrollment -----------------------------
#
# Specifies the Khulnasoft registration server, used for the agent enrollment.
# enrollment.dns:
#
# Specifies the password used to authenticate during the agent enrollment.
# enrollment.password:
#
#-------------------------------- Khulnasoft hosts ----------------------------------
#
# The following configuration is the default structure to define a host.
#
# hosts:
#   # Host ID / name,
#   - env-1:
#       # Host URL
#       url: https://env-1.example
#       # Host / API port
#       port: 55000
#       # Host / API username
#       username: khulnasoft-wui
#       # Host / API password
#       password: khulnasoft-wui
#       # Use RBAC or not. If set to true, the username must be "khulnasoft-wui".
#       run_as: true
#   - env-2:
#       url: https://env-2.example
#       port: 55000
#       username: khulnasoft-wui
#       password: khulnasoft-wui
#       run_as: true

hosts:
<% @dashboard_khulnasoft_api_credentials.each do |api_profile| -%>
  - <%= api_profile['id'] %>:
      url: <%= api_profile['url'] %>
      port: <%= api_profile['port'] %>
      username: <%= api_profile['user'] %>
      password: <%= api_profile['password'] %>
      run_as: false
<% end -%>
